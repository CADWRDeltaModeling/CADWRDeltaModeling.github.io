<!DOCTYPE html>
<html>
    <head>
        <title>DSM2 version 8.2 : Developer and Build</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DSM2 version 8.2</a></span>
                            </li>
                                                    <li>
                                <span><a href="DSM2_87228545.html">DSM2</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DSM2 version 8.2 : Developer and Build
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nicky Sandhu</span>, last modified on Jan 27, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="DeveloperandBuild-Basicsteps"><strong>Basic steps</strong></h1><ul><li><p>Install prerequisite softwares</p></li><li><p>Checkout DSM2 from github repository </p></li><li><p>Compile and build input_storage and oprule libraries (may also need third party)</p></li><li>Compile and build DSM2 (That should result in the hydro.exe and qual.exe and ptm.dll in the build folders)</li><li>Test and validate the newly compiled</li><li>Copy and update DSM2 distribution package</li><li>Package for DSM2 new release</li></ul><p><br/></p><p>DSM2 version 82* compilation and packaging assuming a minor (bug-fix) release. </p><ul><li>DSM2 source codes and its relevant support party are placed on open source platform github (<a href="https://github.com/CADWRDeltaModeling/dsm2" class="external-link" rel="nofollow">https://github.com/CADWRDeltaModeling/dsm2</a>) for version control,</li></ul><p><br/></p><h1 id="DeveloperandBuild-RequiredSoftware"><strong>Required Software</strong></h1><ol><li>Visual Studio 2015 (check its installation and management details at <a href="http://msb-confluence/display/DM/Intel+Compiler+Installation+for+Windows">Intel Compiler Installation for Windows</a>)</li><li>Intel Composer for Fortran and C++ (Parallel Studio 2019)</li><li>Cmake 3.14 <a href="https://cmake.org/" class="external-link" rel="nofollow">https://cmake.org/</a> (better use a latest stable version, not *rc)</li><li>Git <a href="https://git-scm.com/downloads" class="external-link" rel="nofollow">https://git-scm.com/downloads</a></li><li>Source Tree (free git client, optional) <a href="https://www.sourcetreeapp.com/" class="external-link" rel="nofollow">https://www.sourcetreeapp.com/</a></li><li>Flex and Bison packages in Cygwin <span class="confluence-anchor-link" id="DeveloperandBuild-OLE_LINK1"></span><span class="confluence-anchor-link" id="DeveloperandBuild-OLE_LINK2"></span> <a href="http://www.cygwin.com/setup.exe" class="external-link" rel="nofollow">http://www.cygwin.com/setup.exe</a>  (make sure {cywin}/bin in the environment path)</li><li>Inno Setup Compiler v5.2.3<span class="confluence-anchor-link" id="DeveloperandBuild-OLE_LINK7"></span><span class="confluence-anchor-link" id="DeveloperandBuild-OLE_LINK8"></span> <a href="http://files.jrsoftware.org/is/5/isetup-5.2.3.exe" class="external-link" rel="nofollow">http://files.jrsoftware.org/is/5/isetup-5.2.3.exe</a></li><li>Python 3<span class="confluence-anchor-link" id="DeveloperandBuild-OLE_LINK5"></span><span class="confluence-anchor-link" id="DeveloperandBuild-OLE_LINK6"></span> <a href="http://www.python.org/download/" class="external-link" rel="nofollow">http://www.python.org/download/</a></li><li>Java Development Kit (32-bit) <span class="confluence-anchor-link" id="DeveloperandBuild-OLE_LINK3"></span><span class="confluence-anchor-link" id="DeveloperandBuild-OLE_LINK4"></span> <a href="http://java.sun.com/javase/downloads/index.jsp" class="external-link" rel="nofollow">http://java.sun.com/javase/downloads/index.jsp</a></li><li>Microsoft Office 2010</li><li>Apache ANT <span style="color: rgb(0,0,255);"><a href="http://ant.apache.org/bindownload.cgi" class="external-link" rel="nofollow">http://ant.apache.org/bindownload.cgi</a></span></li></ol><p><br class="atl-forced-newline"/>Note: make sure all software have their binary, header, or library folder set in the environment variables. (given that Department Virtual Machines may prohibit editing, users can still edit in their own account. Be aware of the software version which could fail some step of compiling)</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" height="250" src="attachments/87228890/87228892.png" data-image-src="attachments/87228890/87228892.png" data-unresolved-comment-count="0" data-linked-resource-id="87228892" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2019-11-15_10-53-40.png" data-base-url="http://msb-confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="87228890" data-linked-resource-container-version="2"></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="attachments/87228890/87228891.png" data-image-src="attachments/87228890/87228891.png" data-unresolved-comment-count="0" data-linked-resource-id="87228891" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2019-11-15_10-54-29.png" data-base-url="http://msb-confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="87228890" data-linked-resource-container-version="2"></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="120" src="attachments/87228890/87228889.png" data-image-src="attachments/87228890/87228889.png" data-unresolved-comment-count="0" data-linked-resource-id="87228889" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2019-11-15_10-58-45.png" data-base-url="http://msb-confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="87228890" data-linked-resource-container-version="2"></span></p><h1 id="DeveloperandBuild-Validation"><strong>Validation</strong></h1><p>To test new compiled DSM2 and see its difference from older version, the following tools are often used:</p><ul><li>DSM2-vista <a href="http://msb-confluence/display/DM/Compare+DSS+Files+Tool">Compare DSS Files Tool</a> requires output settings (pathnames) exactly the same, but provides a quick summary of accumulated difference, especially useful when we want to confirm if two versions are the same. </li><li>DSM2-vista <a href="http://msb-confluence/display/DM/Compare+DSS+Tool">Compare DSS Tool</a> is flexible to compare between different pathnames, yet requires users set up configuration one-by-one.</li><li>HEC-DSSVue has a compare function in its 'Tools' menu</li></ul><p><br/></p><p><br/></p>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/87228890/87228889.png">image2019-11-15_10-58-45.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/87228890/87228891.png">image2019-11-15_10-54-29.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/87228890/87228892.png">image2019-11-15_10-53-40.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/87228890/87228893.docx">DSM2_v8_0_PTM_Compiling_eclipse.docx</a> (application/vnd.openxmlformats-officedocument.wordprocessingml.document)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/87228890/87228894.docx">DSM2_v8_0_Compiling_and_Packaging.docx</a> (application/vnd.openxmlformats-officedocument.wordprocessingml.document)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 16, 2023 11:04</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
