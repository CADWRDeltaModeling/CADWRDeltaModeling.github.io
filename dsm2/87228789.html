<!DOCTYPE html>
<html>
    <head>
        <title>DSM2 version 8.2 : DSM2 Bay-Delta Tutorial: SDIP Permanent Gate Simulation</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DSM2 version 8.2</a></span>
                            </li>
                                                    <li>
                                <span><a href="DSM2_87228545.html">DSM2</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tutorials_87228717.html">Tutorials</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DSM2 version 8.2 : DSM2 Bay-Delta Tutorial: SDIP Permanent Gate Simulation
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nicky Sandhu</span> on Jan 27, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-Purpose:ThegoalofthistutorialistolearnhowthegateoperatingrulesareimplementedinDSM2v8andhowtheywork.">Purpose: <strong><em>The goal of this tutorial is to learn</em></strong> <strong><em>how the gate operating rules are implemented in DSM2v8 and how they work.</em></strong></h2><h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-ThePlanningstudywewilluseis&quot;ocap_sdip&quot;providedinthestudy_templatesdirectory.Wewillprepareandlaunchtherunusingpermanentbarriersconfigurations(SDIP:SouthDeltaImprovementsProgram)."><strong><em>The Planning study</em></strong> <strong><em>we will use is &quot;ocap_sdip&quot; provided in the study_templates directory. We will prepare and launch the run using permanent barriers configurations (SDIP: South Delta Improvements Program).</em></strong></h2><h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-Preparation">Preparation</h2><p>We will begin by creating a study space to house the planning study.</p><ol><li><strong>Copy the study template:</strong><ol><li>In windows, navigate to <em>\\{DSM2_home}\study_templates.</em> Copy the <em>ocap_sdip</em> folder to <em>\\{DSM2_home}\tutorial</em>. Rename <em>ocap_sdip</em> to <em>ocap_sdip_oprule</em>.</li><li>In each new study folder, create a directory called &quot;output&quot; if there is not such a folder there already.</li><li>Copy the file <em>ocap_2005A01A_EWA2_71_novamp_DV.dss</em> (CALSIM output file used for planning runs) from <em>\\{DSM2_home}\timeseries</em> to <em>\\{DSM2_home}\tutorial\data\calsim.</em> Note that we just put this file in timeseries as a sample – in practice CalSim output will be exterior to the DSM2 distribution (or will be in the study folder).</li></ol></li></ol><p><br/></p><ol><li><strong>Preprocess for SDIP barriers:</strong><ol><li>Rename <em>config_sdip_ocap_71.inp</em> to <em>config_sdip_ocap_oprule.inp</em> and open <em>config_sdip_ocap_oprule.inp</em>.</li><li>Make sure that the run dates are set to the full 1974-1991 (01OCT1974 0000 – 01OCT1991 0000) sixteen year planning period. It is a good idea to preprocess the full period even if you want to run a subset of these dates.</li><li>Set the DSM2MODIFIER to ocap_sdip_oprule.</li><li>Make sure that the DICU version in the configuration file is 2005, representing a future (2005) level of development.</li><li>Makes sure the STAGE_VERSION in the configuration file is PLANNING-2-SL.</li><li>Make sure the configuration file is pointing to the right data. Open <em>config_sdip_ocap_oprule.inp</em>. Make sure that it is pointing to the right directory, file and DSS path to find the CalSim results. In this case, set:<ol><li>CALSIMNAME to ocap_2005A01A_EWA2_71_novamp_DV (CalSim output file without the &quot;.dss&quot; extension)</li><li>CALSIMSTUDY_ORIGINAL to 2005A01A</li><li>CALSIMDIR to ../data/calsim</li></ol></li><li>Save your data</li><li>Launch the preprocessing system. Obtain a command prompt and type:</li></ol></li></ol><p>&gt; prepro config_sdip_ocap_oprule.inp</p><ol><li><strong>Run DSM2:</strong><ol><li>In Windows Explorer, navigate to the directory, <em>\\{DSM2_home}\tutorial\ocap_sdip_oprule</em></li><li>Open the configuration files <em>config_sdip_ocap_oprule.inp.</em></li><li>Set the dates to a shorter period; say 1975-1976 (01OCT1975 0000 – 01OCT1976 0000), so that the run will take reasonable time for the tutorial. Note that we always preprocess the full period even when we attempt to shorten the run.</li><li>Open <em>hydro.inp</em> file and change the configuration file name to config_sdip_ocap_oprule.inp and save it.</li><li>Run the sdip simulation for hydro by typing:</li></ol></li></ol><p>&gt; hydro hydro.inp</p><ol><li><strong>Examine the output:</strong></li></ol><p>The permanent barriers protect water levels in the South Delta in very different ways. Compare the output at the downstream location of all four gates with the flow and EC in San Joaquin River at Vernalis to see how the operating rules are working. Check the Trigger and Action in the plots. <br class="atl-forced-newline"/><br class="atl-forced-newline"/></p><h1 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-DSM2Bay-DeltaTutorial:ChangingGateOperationRules">DSM2 Bay-Delta Tutorial: Changing Gate Operation Rules</h1><h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-Purpose:Thegoalofthistutorialistolearnhowtochangethegateoperatingrulesandcheckthecorrespondingimpactinthevicinityofgatestructures.">Purpose: <strong><em>The goal of this tutorial is to learn how to change the gate operating rules and check the corresponding impact in the vicinity of gate structures.</em></strong></h2><h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-ThePlanningstudywewilluseis&quot;ocap_sdip_oprule&quot;.Wewillprepareandlaunchtherunusingpermanentbarriersconfigurations(SDIP:SouthDeltaImprovementsProgram)."><strong><em>The Planning study we will use is &quot;</em>ocap_sdip_oprule<em>&quot;. We will prepare and launch the run using permanent barriers configurations (SDIP: South Delta Improvements Program).</em></strong></h2><h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-Preparation.1">Preparation</h2><p>We will begin by changing operating rules in DSM2 model input setups. <br class="atl-forced-newline"/><strong>1.</strong> <strong>Preprocess SDIP with change in Operating Rules:</strong></p><ol><li><ol><li><em>Copy</em> <em>oprule_sdip_20090917.inp</em> file from <em>common_input</em> and paste it under <em>\\{DSM2_home}\tutorial\ocap_sdip_oprule</em> directory. Rename the file as <em>oprule_sdip_20090917_tutorial.inp.</em></li><li>Open <em>Oprule_sdip_20090917_tutorial.inp</em> and browse to the line started with &quot;orh_open&quot; in Operating_Rule block. In the expression of Action; change RAMP 60MIN to RAMP 30MIN and save it.</li><li>Go to <em>\\{DSM2_home}\tutorial\ocap_sdip_oprule</em> directory. Make sure the configuration file is pointing to the right data. Open <em>config_sdip_ocap_oprule.inp</em>. Make sure that it is pointing to the right directory, file and DSS path to find the CalSim results. In this case, set:<ol><li>CALSIMNAME to ocap_2005A01A_EWA2_71_novamp_DV (CalSim output file without the &quot;.dss&quot; extension)</li><li>CALSIMSTUDY_ORIGINAL to 2005A01A</li><li>CALSIMDIR to ../data/calsim</li><li>Set the DSM2MODIFIER to ocap_sdip_oprule_r30.</li><li>Set simulation time from 01OCT1974 0000 to 01OCT1991 0000.</li></ol></li><li>Save your data</li><li>Launch the preprocessing system. Obtain a command prompt and type:</li></ol></li></ol><p>&gt; prepro config_sdip_ocap_oprule.inp <br class="atl-forced-newline"/><br class="atl-forced-newline"/><br class="atl-forced-newline"/></p><ol><li><strong>Run DSM2:</strong><ol><li>In Windows Explorer, navigate to the directory, <em>\\{DSM2_home}\tutorial\ocap_sdip_oprule</em></li><li>Open the configuration files <em>config_sdip_ocap_oprule.inp.</em></li><li>Set the dates to a shorter period; say 1975-1976 (01OCT1975 0000 – 01OCT1976 0000), so that the run will take reasonable time for the tutorial. Note that we always preprocess the full period even when we attempt to shorten the run.</li><li>Open <em>hydro.inp</em> file. Add a line before the END command in the OPERATION block:</li></ol></li></ol><p>OPERATION<br/>……<br/>……<br/>……<br/>oprule_sdip_20090917_tutorial.inp<br/>END</p><ol><li><ol><li>Save your data</li><li>Run the sdip simulation for hydro by typing:</li></ol></li></ol><p>&gt; hydro hydro.inp</p><ol><li><strong>Examine the output:</strong></li></ol><p>The permanent barriers protect water levels in the South Delta in very different ways. Compare the flow at downstream location of Head of Old River Gate between OPEN RAMP 60 MIN (<em>ocap_sdip_oprule .dss</em>) and OPEN RAMP 30 MIN (<em>ocap_sdip_oprule_r30.dss</em>) runs to see how the changes in operating rules are working. <br class="atl-forced-newline"/><br class="atl-forced-newline"/><br class="atl-forced-newline"/></p><h1 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-DSM2Bay-DeltaTutorial:RemoveSDIPOperableGates">DSM2 Bay-Delta Tutorial: Remove SDIP Operable Gates</h1><h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-Purpose:Thegoalofthistutorialistolearnhowtoremovethegatesfromthestudy.">Purpose: <strong><em>The goal of this tutorial is to learn how to remove the gates from the study.</em></strong></h2><h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-ThePlanningstudywewilluseis&quot;ocap_sdip_oprule&quot;.Wewillprepareandlaunchtherunusingpermanentbarriersconfigurations(SDIP:SouthDeltaImprovementsProgram)..1"><strong><em>The Planning study we will use is &quot;</em>ocap_sdip_oprule<em>&quot;. We will prepare and launch the run using permanent barriers configurations (SDIP: South Delta Improvements Program).</em></strong></h2><h2 id="DSM2BayDeltaTutorial:SDIPPermanentGateSimulation-Preparation.2">Preparation</h2><p>We will begin by changing operating rules in DSM2 model input setups. <br class="atl-forced-newline"/><strong>1.</strong> <strong>Preprocess SDIP with change in Operating Rules:</strong><br/>a. Go to <em>\\{DSM2_home}\tutorial\ocap_sdip_oprule</em> directory. <br/>b. Create a duplicate copy of <em>config_sdip_ocap_oprule.inp</em> file and rename it <em>config_sdip_ocap_nogates.inp.</em> <br/>c. Open <em>config_sdip_ocap_nogates.inp</em> and browse to the line started with &quot;USE_BARRIERS&quot;. Assign the &quot;USE_BARRIERS&quot; environmental variable to <strong>FALSE</strong> and save it. Make sure that it is pointing to the right directory, file and DSS path to find the CalSim results. In this case, set:</p><ol><li><ol><li><ol><li>CALSIMNAME to ocap_2005A01A_EWA2_71_novamp_DV (CalSim output file without the &quot;.dss&quot; extension)</li><li>CALSIMSTUDY_ORIGINAL to 2005A01A</li><li>CALSIMDIR to ../data/calsim</li><li>Set the DSM2MODIFIER to ocap_sdip_nogates.</li><li>Set simulation time from 01OCT1974 0000 to 01OCT1991 0000.</li></ol></li><li>Save your data</li><li>Launch the preprocessing system. Obtain a command prompt and type:</li></ol></li></ol><p>&gt; prepro config_sdip_ocap_nogates.inp</p><ol><li><strong>Run DSM2:</strong><ol><li>In Windows Explorer, navigate to the directory, <em>\\{DSM2_home}\tutorial\ocap_sdip_oprule</em></li><li>Open the configuration files config_sdip_ocap_nogates<em>.inp.</em></li><li>Set the dates to a shorter period; say 1975-1976 (01OCT1975 0000 – 01DEC1975 0000), so that the run will take reasonable time for the tutorial. Note that we always preprocess the full period even when we attempt to shorten the run.</li><li>Run the simulation for hydro by typing:</li></ol></li></ol><p>&gt; hydro hydro.inp</p><ol><li><strong>Examine the output:</strong></li></ol><p>Compare the output at upstream and downstream of all four gate locations to verify the non-existence of the gates. Remember, the gate operations will still appear to exist. You can check the gates are ignored by checking the &quot;install&quot; output for the gates. The effect on flow can also be verified: stage upstream and downstream of the gates location should be identical and the flow should be non-zero (and identical possibly with the exception of a small DICU flow).</p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 16, 2023 11:04</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
